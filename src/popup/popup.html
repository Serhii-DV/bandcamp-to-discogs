<!DOCTYPE html>
<html data-bs-theme="dark">
<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <link type="text/css" rel="stylesheet" href="popup.css">
</head>
<body>

  <div id="mainNav" class="btn-group d-flex" role="tablist">
    <button class="btn btn-dark rounded-0" id="release-tab" data-bs-toggle="tab" data-bs-target="#release" role="tab" aria-controls="release" aria-selected="true" type="button" title="Release preview">
      <b2d-icon name="card-text" />
    </button>
    <button class="btn btn-dark rounded-0" id="releases-tab" data-bs-toggle="tab" data-bs-target="#releases" role="tab" aria-controls="releases" aria-selected="true" type="button" title="List of artist releases">
      <b2d-icon name="view-list" />
    </button>
    <button class="btn btn-dark rounded-0" id="csvData-tab" data-bs-toggle="tab" data-bs-target="#csvData" role="tab" aria-controls="csvData" aria-selected="true" type="button" title="Preview Discogs CSV data">
      <b2d-icon name="table" />
    </button>
    <button class="btn btn-dark rounded-0" id="storageData-tab" data-bs-toggle="tab" data-bs-target="#storageData" role="tab" aria-controls="storageData" aria-selected="true" type="button" title="Releases in storage">
      <b2d-icon name="database" />
    </button>
    <button id="download-csv" class="btn btn-dark rounded-0" type="button" title="Download Discogs CSV file">
      <b2d-icon name="download" />
    </button>
    <a id="discogsCsvToDraft" class="btn btn-dark rounded-0" href="https://www.discogs.com/release/csv_to_draft" target="_blank" role="button" title="Open Discogs CSV to Draft page and start import">
      <b2d-icon name="box-arrow-up-right" />
    </a>
    <a id="discogs-search-artist" class="btn btn-dark rounded-0" href="https://www.discogs.com/search" target="_blank" role="button" title="Search for Discogs artist release">
      <b2d-icon name="search" />
    </a>
    <button class="btn btn-dark rounded-0" id="about-tab" data-bs-toggle="tab" data-bs-target="#about" role="tab" aria-controls="about" aria-selected="true" type="button" title="About the extension">
      <b2d-icon name="question-square" />
    </button>
  </div>

  <div id="releaseCard" class="card rounded-0 position-relative">
    <img id="release-cover" class="card-img rounded-0 opacity-25" src="" alt="">
    <div class="card-img-overlay overflow-auto">

      <div class="tab-content">
        <!-- Release -->
        <div class="tab-pane fade" id="release" role="tabpanel" aria-labelledby="release-tab" tabindex="0">
          <h1 id="release-artist" class="display-3"></h1>
          <h2 id="release-title" class="display-6"></h2>
          <h3 id="release-year" class="display-6"></h3>
          <div id="release-tracklist" class="card-text overflow-auto position-absolute bottom-0 start-0 end-0"></div>
        </div>
        <!-- Releases -->
        <div class="tab-pane fade small" id="releases" role="tabpanel" aria-labelledby="releases-tab" tabindex="0">
          <div id="bandcampReleases">
            <form id="releasesForm">
              <div class="checkboxes">
              </div>
            </form>
            <button id="submitBandcampReleases" type="button" class="btn btn-primary btn-sm">
              <b2d-icon name="database-add"></b2d-icon>
              Add to storage
            </button>
          </div>
        </div>
        <!-- CSV data -->
        <div class="tab-pane fade small" id="csvData" role="tabpanel" aria-labelledby="csvData-tab" tabindex="0"></div>
        <!-- Storage data -->
        <div class="tab-pane fade small" id="storageData" role="tabpanel" aria-labelledby="storageData-tab" tabindex="0">
          <form id="storageDataForm">
            <div class="checkboxes">
            </div>
          </form>
          <button id="storageExport" type="button" class="btn btn-primary" title="Export selected releases to Discogs CSV">Export data to CSV</button>
          <button id="storageDataClear" type="button" class="btn btn-warning" title="Clear storage data">Clear data</button>
        </div>
        <!-- About -->
        <div class="tab-pane fade" id="about" role="tabpanel" aria-labelledby="about-tab" tabindex="0"></div>
      </div>

    </div>
  </div>

  <div id="warningMessage" class="card rounded-0 visually-hidden">
    <div class="card-body">
      <p class="text-center">
        <b2d-icon name="exclamation-triangle" />
      </p>
      <p class="card-text">Unfortunatelly, retrieving data from the Bandcamp release page is not feasible. Please ensure that you are currently on the artist's release page before proceeding.</p>
    </div>
  </div>

  <script src="../../assets/bootstrap/bootstrap.bundle.5.3.0.min.js"></script>
  <script type="module" src="popup.js"></script>
  <script src="icon.js"></script>
</body>
</html>
